{% load static %}
<section id="portfolio" class="portfolio section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Projects</h2>
      <p>{{ description.resume }}</p>
    </div><!-- End Section Title -->

    <div class="container">

      <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">

        <ul class="portfolio-filters isotope-filters" data-aos="fade-up" data-aos-delay="100">
          <li class="{% if not selected_category %}filter-active{% endif %} rounded p-2">
            <a href="{% url 'home' %}#portfolio" class="text-dark">All</a>
          </li>
          {% for category in categories %}
            <li class="{% if selected_category == category.id %}filter-active{% endif %} rounded p-2 mx-2">
              <a href="?category={{category.id}}#portfolio" class="text-dark">{{ category.name }}</a>
            </li>
          {% endfor %}
        </ul><!-- End Portfolio Filters -->

        <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="200">

          {% if projects %}
            {% for project in projects %}
              <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-app">
                <img src="{{ project.image.url }}" class="img-fluid" alt="">
                <div class="portfolio-info">
                  <h4>{{project.title}}</h4>
                  <p>{{ project.description|slice:":40" }}...</p>
                  <a href="{{ project.image.url }}" title="Zoom" data-description="{{ project.description }}" data-gallery="portfolio-gallery-app" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                  <a href="{% url 'projectDetails' project.pk %}" title="More Details" class="details-link">...</a>
                </div>
              </div><!-- End Portfolio Item -->
            {% endfor %}
          {% else %}
            <p class="text-center">No projects to show!</p>
          {% endif %}

        </div><!-- End Portfolio Container -->

      </div>

    </div>

</section>